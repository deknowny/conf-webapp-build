(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6630:function(e,t,n){Promise.resolve().then(n.bind(n,889))},889:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var o=n(7437),i=n(7802),s=n(6646),r=n(8078),a=n(8885),l=n(8815),c=n.n(l),d=n(1431),p=n(556),u=n(641);let h={active:c()["wrapper--active"],"pre-active":c()["wrapper--preActive"]},m=e=>{let{header:t,horizontal:n,mode:i,className:s,children:r,...a}=e;return(0,d.F)(),(0,o.jsxs)("li",{className:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let o=[];return t.forEach(e=>{if(e)switch(typeof e){case"string":o.push(e);break;case"object":Object.keys(e).forEach(t=>{e[t]&&o.push(t)});break;default:o.push("".concat(e))}}),o.join(" ")}(c().wrapper,i&&h[i],n&&c()["wrapper--horizontal"],s),...a,children:[(0,o.jsxs)("div",{className:c().side,children:[(0,o.jsx)("div",{className:c().line}),(0,o.jsx)("div",{className:c().dot})]}),(0,o.jsxs)("div",{className:c().fields,children:[(0,o.jsx)(u.x,{className:c().title,weight:"2",children:t}),(0,o.jsx)(p.g,{level:"2",className:c().description,children:r})]})]})};var x=n(5079),g=n(6920),b=n(4710),f=n(3107),v=n(9190),j=n(4387),y=n(7818),_=n(2265),w=n(7482),k=n(1789);let N=(0,y.default)(()=>n.e(943).then(n.bind(n,2914)).then(e=>e.Player),{loadableGenerated:{webpack:()=>[2914]},ssr:!1});function C(e){let{isOpen:t,setIsOpen:n}=e,[s,l]=(0,_.useState)(void 0),[c,d]=(0,_.useState)(!0),[p,u]=(0,i.M7)(),h=(0,k.useBackendAPIClient)();return(0,_.useEffect)(()=>{fetch("/throw-stars-sticker.json").then(e=>e.json()).then(e=>l((0,o.jsx)(r.yK,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:(0,o.jsx)(N,{autoplay:!0,loop:!0,src:e,className:"w-[175px] h-[175px] min-h-[175px]",onStateChange:e=>console.log("player state",e),onEvent:e=>{"frame"===e&&c&&d(!1)}})})))},[]),(0,o.jsx)(f.u_,{open:t,onOpenChange:e=>n(e),nested:!0,style:{backgroundColor:"var(--tg-theme-secondary-bg-color)",paddingBottom:"var(--tg-safe-area-inset-bottom)"},closeThreshold:1,header:(0,o.jsx)(f.u_.Header,{after:(0,o.jsx)(v.A,{children:(0,o.jsx)(j.w,{onClick:()=>{n(!1),b.nx2.selectionChanged()},style:{color:"var(--tg-theme-hint-color)"}})}),style:{color:"var(--tg-theme-hint-color)"},children:"Управление подпиской"}),children:(0,o.jsxs)("div",{className:"pb-5",children:[(0,o.jsx)(f.Vm,{header:(0,o.jsxs)("span",{className:"flex gap-2 justify-center items-center",children:[(0,o.jsx)("span",{children:"Конфигуратор VPN"}),(0,o.jsx)("span",{style:{backgroundColor:"var(--tg-theme-button-color)",color:"white"},className:"px-2 py-1 rounded-lg text-base font-bold",children:"PRO"})]}),description:"Скорость до 10Гбит/с для 10 ваших устройств",children:(0,o.jsx)(f.Od,{visible:c,withoutAnimation:!1,className:"w-[175px] h-[175px] rounded-2xl",children:s})}),(0,o.jsxs)(f.TY,{style:{paddingLeft:17,paddingTop:0,paddingBottom:0},active:4,children:[(0,o.jsx)(m,{header:"Новейшее оптоволокно",children:"Располагаем все сервера на самом свежем железе с обслуживанием 24/7"}),(0,o.jsxs)(m,{header:"Подписка на всю семью",children:["Используйте ваш VPN сразу на всех устройствах вашей семьи"," ",(0,o.jsx)(g.G,{icon:x.m6i,size:"sm"})]}),(0,o.jsxs)(m,{header:"Протокол двойного шифрования",children:["Вместо сотни стран с качеством \xabпо чуть-чуть\xbb сделали один маршрут Россия-Нидерланды с самым крепким протоколом шифрования на"," ",new Date().getFullYear()," год"]})]}),(null==p?void 0:p.subscriptionKind.kind)!=="LIFETIME"?(0,o.jsxs)(f.aV,{children:[(0,o.jsx)(f.$0,{header:(0,o.jsx)(f.$0.Header,{style:{color:"var(--tg-theme-hint-color)"},children:"Тариф"}),footer:(0,o.jsxs)(f.$0.Footer,{className:"leading-4",style:{color:"var(--tg-theme-hint-color)"},children:["Подписка продлевается автоматически. Сможете отключить автопродление в любой момент. ",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"Ваша ссылка на подключение начнет работать сразу после оплаты. Совершая оплату, вы принимаете"," ",(0,o.jsx)("u",{onClick:()=>(0,b.nGW)("https://telegra.ph/Polzovatelskoe-soglashenie-ispolzovaniya-servisa-Konfigurator-VPN-11-24"),style:{color:"var(--tgui--link_color)"},children:"Пользовательское соглашение"}),"."]}),children:(0,o.jsx)(f.bL,{Component:"label",before:(0,o.jsx)(f.Nx,{name:"tariff",value:"1",defaultChecked:!0,onChange:()=>{},className:"px-1"}),style:{backgroundColor:"var(--tg-theme-section-bg-color)"},multiline:!0,description:"VPN для 10 устройств",children:"1 месяц за 199₽"})}),(null==p?void 0:p.subscriptionKind.kind)==="CLOUDPAYMENTS"&&p.subscriptionKind.content.is_recurrent?(0,o.jsxs)(f.$0,{header:(0,o.jsx)(f.$0.Header,{style:{color:"var(--tg-theme-hint-color)"},children:"Текущие автосписания"}),children:[null!==p.subscriptionKind.content.next_payment&&void 0!==p.subscriptionKind.content.next_payment&&(0,o.jsx)(f.bL,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},after:(0,o.jsx)("span",{style:{color:"var(--tg-theme-hint-color)"},children:Date.parse(p.subscriptionKind.content.next_payment)>Date.now()?p.subscriptionKind.content.next_payment.split("T",1)[0]:"Просрочен"}),children:"Следующий платеж"}),void 0!==p.subscriptionKind.content.recurrent_amount&&(0,o.jsx)(f.bL,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},after:(0,o.jsx)("span",{style:{color:"var(--tg-theme-hint-color)"},children:"".concat(p.subscriptionKind.content.recurrent_amount,"₽")}),children:"Сумма платежа"}),(0,o.jsx)(f.Tn,{mode:"destructive",before:(0,o.jsx)(g.G,{icon:x.$aW}),onClick:()=>{(0,b.UaY)({title:"Вы уверены?",message:"После отмены автосписания и истечения подпсика ваш VPN перестанет работать",buttons:[{id:"yes",text:"Отменить",type:"destructive"},{id:"no",text:"Оставить",type:"default"}]}).then(e=>{console.log(e),"yes"===e&&void 0!==h&&a.cj({client:h,body:{}}).then(e=>{void 0!==e.data?((0,b.UaY)({title:"Автосписание отменено",message:"Больше подписка не будет продлеваться автоматическими списаниями",buttons:[{text:"Хорошо",type:"default"}]}),u(),n(!1)):e.response.status>=500?(0,w.BS)({closeApp:!0}):403===e.response.status?(0,w.tF)({closeApp:!0}):400===e.response.status&&(0,w.z8)({closeApp:!0})}).catch(e=>{console.error("net error",e),(0,w.LV)({closeApp:!0})})})},children:"Отменить автоплатеж"})]}):null]}):null]})})}var T=n(1970);function I(){return(0,o.jsx)(f.bL,{style:{backgroundColor:"var(--tg-theme-section-bg-color)"},before:(0,o.jsx)(g.G,{icon:T.sph,size:"lg",className:"p-1",color:"var(--tg-theme-link-color)"}),onClick:()=>{(0,b.Qnj)("https://t.me/".concat("confvpnsup"))},description:(0,o.jsxs)("span",{className:"flex items-center gap-1",children:[(0,o.jsx)(g.G,{icon:x.frn,color:"var(--tg-theme-link-color)",className:""}),(0,o.jsx)("span",{children:"Поддержка на связи"})]}),children:"Возник вопрос?"})}var K=n(3364);function S(e){let{subscriptionMangmentDrawerOpen:t,setSubscriptionMangmentDrawerOpen:n}=e,[s,a]=(0,i.M7)();console.log("triggered render subscription component");let[l,c]=(0,_.useState)(""),[d,p]=(0,_.useState)(""),[u,h]=(0,_.useState)(void 0),[m,v]=(0,_.useState)(!1),j=function(e,t,n,o,i,s){let[r,a]=(0,_.useState)("");if((0,_.useEffect)(()=>{if(void 0!==e){let t=new Date(e).getTime()/1e3;Date.now()/1e3<t?l():(clearInterval(c),a(i))}},[e]),void 0===e)return r;let l=()=>{let t=new Date(e).getTime()/1e3-Date.now()/1e3,n=Math.floor(t/86400),i=Math.floor(t%86400/3600),r=Math.floor(t%86400%3600/60),l=[];0!=n&&l.length<2&&l.push("".concat(n," ").concat((0,K._6)(n,"день","дня","дней"))),0!=i&&l.length<2&&l.push("".concat(i," ").concat((0,K._6)(i,"час","часа","часов"))),0!=r&&l.length<2&&l.push("".concat(r," ").concat((0,K._6)(r,s,"минуты","минут"))),0===l.length&&l.push("1 ".concat(s)),a(o.replace("$$TIME",l.join(" ")))},c=setInterval(()=>{console.log(1);let t=new Date(e).getTime()/1e3;Date.now()/1e3<t?l():(clearInterval(c),a(i))},1e3);return console.log(0),r}(u,2,0,"$$TIME","<empty>","минута");return(console.log(),(0,_.useEffect)(()=>{if(s){if("LIFETIME"===s.subscriptionKind.kind){var e;c("Вечная подписка"),p(null!==(e=s.subscriptionKind.content.comment)&&void 0!==e?e:"За приятное знакомство с создателем :)")}else"TRIAL"===s.subscriptionKind.kind?Date.parse(s.subscriptionKind.content.end_ts)>Date.now()?(c("Бесплатный период"),p("Нажмите, чтобы продлить подписку"),h(s.subscriptionKind.content.end_ts)):(c("Бесплатный период истек"),p("Нажмите, чтобы продлить подписку"),v(!0)):"NO"===s.subscriptionKind.kind?(c("Подписка отсутствует"),p("Нажмите, чтобы активировать подписку"),v(!0)):"CLOUDPAYMENTS"===s.subscriptionKind.kind&&(s.subscriptionKind.content.is_recurrent?Date.parse(s.subscriptionKind.content.paid_to)>Date.now()?(c("Подписка активна"),p("Нажмите для настройки вашей текущей подписки")):(c("Подписка не продлилась"),p("Нажмите, чтобы продлить подписку"),v(!0)):Date.parse(s.subscriptionKind.content.paid_to)>Date.now()?(c("Подписка активна"),p("Нажмите, чтобы продлить подписку"),h(s.subscriptionKind.content.paid_to)):(c("Подписка отсутсвует"),p("Нажмите, чтобы активировать подписку"),v(!0)))}},[s]),s)?(0,o.jsx)(r.yK,{whileTap:{scale:.95},whileHover:{scale:1.02},children:(0,o.jsx)(f.$0,{footer:m&&(0,o.jsx)(f.$0.Footer,{style:{color:"var(--tg-theme-hint-color)"},children:"Для работы VPN нужна подписка"}),children:(0,o.jsx)(f.bL,{multiline:!0,subhead:"<empty>"===j||""===j?null:(0,o.jsx)(r.yK,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:j}),description:d,style:{backgroundColor:"var(--tg-theme-section-bg-color)"},before:(0,o.jsx)(r.yK,{initial:{rotate:1800},animate:{rotate:0},transition:{duration:2,type:"spring"},children:(0,o.jsx)(g.G,{icon:x.Tab,color:"var(--tg-theme-button-color)",size:"lg"})}),onClick:()=>{n(!0),b.nx2.selectionChanged()},children:l})})}):null}var P=n(3757),D=n(8938),E=n(568),$=n(6407);function O(e){let{url:t,text:n,icon:i,delay:s}=e;return(0,o.jsx)(r.yK,{whileTap:{scale:.9},whileHover:{scale:1.02},initial:{opacity:.9,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:.5,delay:s},children:(0,o.jsx)($.c,{onClick:()=>{(0,b.nGW)(t)},style:{width:"100%",background:"color-mix(in srgb, var(--tgui--button_color) 20%, transparent)"},mode:"bezeled",text:n,children:(0,o.jsx)(g.G,{icon:i,size:"xl"})})})}function L(){let e=(0,s.ZP)(),[t,n]=(0,i.M7)(),a=(0,_.useRef)(void 0),[l,c]=(0,_.useState)(!1),[d,p]=(0,_.useState)(!1);return((0,_.useEffect)(()=>{(0,b.S1n)(),p(!0),b.hLt.ifAvailable(),b.igb.mount(),b.igb.onClick(()=>{var e;c(!1),null==a||null===(e=a.current)||void 0===e||e.click(),b.nx2.impactOccurred("soft")})},[]),(0,_.useEffect)(()=>{if(d&&d){if(l){if((null==t?void 0:t.subscriptionKind.kind)!=="LIFETIME"){let e=(0,D.Y6)();b.igb.setParams({isVisible:l,text:"Купить месяц за 199₽",backgroundColor:e.tgWebAppThemeParams.button_color,textColor:"#FFFFFF",isEnabled:!0,hasShineEffect:!0})}}else setTimeout(()=>{b.igb.setParams({isVisible:l})},300)}},[l,d,t]),t)?(0,o.jsx)("div",{children:(0,o.jsxs)(r.yK,{style:{paddingBottom:"var(--tg-safe-area-inset-bottom)"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"lg:max-w-lg lg:py-10",children:[(0,o.jsxs)(f.aV,{className:"pb-5",children:[(0,o.jsx)(S,{subscriptionMangmentDrawerOpen:l,setSubscriptionMangmentDrawerOpen:c}),(0,o.jsxs)(f.$0,{header:(0,o.jsx)(f.$0.Header,{style:{color:"var(--tg-theme-hint-color)"},children:"Ссылка для подключения"}),footer:(0,o.jsx)(f.$0.Footer,{className:"leading-4",style:{color:"var(--tg-theme-hint-color)"},children:"Для подключения к этой ссылке вам нужно скачать приложение v2RayTun"}),children:[(0,o.jsx)("p",{style:{backgroundColor:"var(--tg-theme-section-bg-color)",fontFamily:"Consolas,Monaco"},className:"pb-3 break-all p-3 text-sm",children:null==t?void 0:t.ssConnectionLink}),(0,o.jsx)(r.yK,{whileTap:{scale:.95},whileHover:{scale:1.02},children:(0,o.jsx)(f.zx,{before:(0,o.jsx)(r.ux,{initial:{rotate:180},animate:{rotate:0},transition:{duration:.5,type:"spring",delay:.2},children:(0,o.jsx)(P.c,{})}),stretched:!0,onClick:()=>{e({text:"Ссылка скопирована",action:()=>(0,b.TES)(null==t?void 0:t.ssConnectionLink)}),b.nx2.impactOccurred("rigid")},style:{borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:"none"},children:"Скопировать"})})]}),(0,o.jsx)(f.$0,{header:"Скачайте приложение",footer:(0,o.jsx)(f.$0.Footer,{className:"leading-4",style:{color:"var(--tg-theme-hint-color)"},children:"В правом верхнем углу нажмите плюсик, чтобы добавить ссылку из буфера"}),children:(0,o.jsxs)("div",{style:{backgroundColor:"var(--tg-theme-secondary-bg-color)"},className:"flex flex-col justify-between gap-3",children:[(0,o.jsx)(O,{url:"https://apps.apple.com/us/app/v2raytun/id6476628951",text:"iPhone, iPad, macOS",icon:E.Av$,delay:0}),(0,o.jsx)(O,{url:"https://play.google.com/store/apps/details?id=com.v2raytun.android",text:"Google Play",icon:E.YUQ,delay:.15}),(0,o.jsx)(O,{url:"https://storage.v2raytun.com/v2RayTun_Setup.exe",text:"Windows",icon:E.ts2,delay:.3})]})}),(0,o.jsx)(f.$0,{header:(0,o.jsx)(f.$0.Header,{style:{color:"var(--tg-theme-hint-color)"},children:"Страна подключения"}),footer:(0,o.jsx)(f.$0.Footer,{className:"leading-4",style:{color:"var(--tg-theme-hint-color)"},children:"На данный момент доступны только Нидерланды"}),children:(0,o.jsx)(f.bL,{Component:"label",before:(0,o.jsx)(f.Nx,{name:"country",value:"1",defaultChecked:!0,onChange:()=>{},className:"px-1"}),style:{backgroundColor:"var(--tg-theme-section-bg-color)"},multiline:!0,description:"Рекомендуемый маршрут подключения для самого защищенного соединения",children:(0,o.jsxs)("span",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:"fi fi-nl rounded-sm"}),(0,o.jsx)("span",{children:"Нидерланды"})]})})}),(0,o.jsx)(f.$0,{header:(0,o.jsx)(f.$0.Header,{style:{color:"var(--tg-theme-hint-color)"},children:"Техническая поддержка"}),children:(0,o.jsx)(I,{})})]}),(0,o.jsx)(C,{isOpen:l,setIsOpen:c}),(0,o.jsx)("button",{ref:a,onClick:()=>{let e=new cp.CloudPayments,o={Items:[{label:"Конфигуратор VPN на 1 месяц",price:199,quantity:1,amount:199,vat:0,method:0,object:0}],taxationSystem:0,isBso:!1,amounts:{electronic:199,advancePayment:0,credit:0,provision:0}};e.pay("charge",{publicId:"pk_dadb31d8e5b77cdec4f0770190207",description:"Конфигуратор VPN на 1 месяц",amount:199,currency:"RUB",accountId:"client_id:".concat(t.id),skin:"modern",data:{clientId:t.id,CloudPayments:{CustomerReceipt:o,recurrent:{interval:"Month",period:1,customerReceipt:o,StartDate:new Date(Date.now()+23328e5+t.knownSubscriptionDurationMs).toISOString()}}},configuration:{common:{successRedirectUrl:"https://t.me/confvpnbot?startapp",failRedirectUrl:"https://t.me/confvpnbot?startapp"}}},{onSuccess:function(e){console.log("paid"),n(),b.nx2.notificationOccurred("success")},onFail:function(e,t){b.nx2.notificationOccurred("error"),n()},onComplete:function(e,t){console.log("completed"),n()}})},className:"none"})]})}):(0,o.jsx)(r.yK,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,o.jsx)(f.$j,{color:"default",size:"m",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})})}},8815:function(e){e.exports={wrapper:"TimelineItem_wrapper__2Pnz1",line:"TimelineItem_line__qOssH",side:"TimelineItem_side___7ub4",dot:"TimelineItem_dot__ie__N",fields:"TimelineItem_fields__YomB5",title:"TimelineItem_title__SzMqn",description:"TimelineItem_description__GhhLf","wrapper--active":"TimelineItem_wrapper--active__gLZIq","wrapper--preActive":"TimelineItem_wrapper--preActive__4weIP","wrapper--ios":"TimelineItem_wrapper--ios__S4Dds","wrapper--horizontal":"TimelineItem_wrapper--horizontal__9Ji3S"}}},function(e){e.O(0,[220,676,125,958,684,354,964,971,23,744],function(){return e(e.s=6630)}),_N_E=e.O()}]);